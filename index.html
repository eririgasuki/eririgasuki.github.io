<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Blog for learning">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Blog for learning">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Blog for learning">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>Blog for learning</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Blog for learning</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/04/Reflow和Repaint对前端性能的影响/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/04/Reflow和Repaint对前端性能的影响/" itemprop="url">Reflow和Repaint对前端性能的影响</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-04T16:14:35+08:00">
                2019-03-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Reflow和Repaint是什么？"><a href="#Reflow和Repaint是什么？" class="headerlink" title="Reflow和Repaint是什么？"></a>Reflow和Repaint是什么？</h1><p><em>Repaint</em> 就是“重绘”，它会在你改变 DOM 元素的视觉效果时进行，改变布局时不会触发。比如，<code>opacity,background-color,visibility</code>和<code>outline</code>等都会触发，“重绘”的开销还是比较昂贵的，因为浏览器会在某一个DOM元素的视觉效果改变后去check这个DOM元素内的所有节点。</p>
<p><em>Reflow</em> 就是“回流”，它的影响更大。它会在某一个DOM元素的位置发生改变后触发，而且它会重新计算所有元素的位置和在页面中的占有的面积，这样的话将会引起页面某一个部分甚至整个页面的重新渲染。改变某一个元素会影响它所有的子节点 (children)、祖先节点 (ancestors) 及兄弟节点(siblings)。</p>
<p>浏览器的对待页面是<em>先布局后渲染</em>,在PC端Reflow和Repaint对于性能的影响是微乎其微，但是在<em>移动端</em>这俩货简直就是<em>性能杀手</em>。</p>
<p>repaint和reflow是DOM操作影响性能的主要原因。一个节点触发了repaint，浏览器会检查DOM Tree中其他所有节点的显示方式；一个节点触发了reflow会导致它的祖先节点，后代节点以及在它之后的节点全部reflow。<em>reflow对性能的影响大于repaint</em>。</p>
<p>什么情况下会触发Reflow？</p>
<ul>
<li>添加、删除或者改变DOM元素的可见性时：使用JS去改变DOM元素时会触发Reflow。</li>
<li>添加、删除或者改变CSS样式：直接改变CSS Style或者元素的class可能会影响布局，还有改变一个元素的宽度能够影响它所在的DOM节点中的所有元素，以及它周围的那些元素。</li>
<li>CSS3 动画（<code>animation</code>）和过渡（<code>transition</code>）: 动画的每一frame都会触发Reflow。</li>
<li>使用<code>offsetWidth</code>和<code>offsetHeight</code>：这一点很特别，你读一个DOM的offsetWidth和offsetHeight属性同样会触发一下Reflow，因为这两个属性需要依赖一些元素去计算。</li>
<li>用户交互：用户可以通过<code>:hover</code>一下<code>&lt;a&gt;</code>链接，在input里面输入文字，拖动浏览器的大小，改变字体大小，更换样式表或者字体等都会触发reflow。</li>
</ul>
<h1 id="如何提高性能？"><a href="#如何提高性能？" class="headerlink" title="如何提高性能？"></a>如何提高性能？</h1><p>一些常用的提高性能的原则</p>
<table>
    <thead>
        <tr>
            <th style="width: 24%">方面</th>
            <th>方法</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>布局</td>
            <td>不要用 inline style 或 table 布局，flexbox 布局也会给性能带来一些小困扰。inline style 会在 html下载完后进行一次额外的 Reflow，table布局的开销远比其他 DOM 元素的布局开销要大。flexbox 的 item 会在HTML 下载完成后改变尺寸。</td>
        </tr>
        <tr>
            <td>简写CSS</td>
            <td>尽量简写CSS，避免使用复杂的CSS选择器，使用 Unused CSS <a href="https://unused-css.com/）" target="_blank" rel="noopener">https://unused-css.com/）</a>, uCSS（https:/github.com/oyvindeh/ucss）, gulp-uncss（<a href="https://github.com/ben-eb/gulp-uncss）可以有效的减少样式定义和文件的大小。" target="_blank" rel="noopener">https://github.com/ben-eb/gulp-uncss）可以有效的减少样式定义和文件的大小。</a></td>
        </tr>
        <tr>
            <td>优化DOM</td>
            <td>减少DOM的层级，减少DOM的数量，如果不需适配老浏览器，删掉一些无用的wrapper性质的DOM元素，总之越少好。</td>
        </tr>
        <tr>
            <td>慎改class</td>
            <td>在一个DOM树中，尽可能改那些没有特别多子元素DOM的class，子元素少的可以改，多的不推荐。</td>
        </tr>
        <tr>
            <td>避免复杂动画</td>
            <td>删掉复杂的动画，运用动画的元素尽量是position:absolute或position:fixed的，这样会让他们脱离文档流不去影响其他的元素。</td>
        </tr>
        <tr>
            <td>善用display:none</td>
            <td>display:none的元素不会引发Reflow和Repaint，可以在让这些元素在display之前进行一些诸如颜色、尺寸么的改变。</td>
        </tr>
        <tr>
            <td>批量更新元素</td>
            <td>将状态写入一个类中，用JQ直接给元素添加或删除这个类，而不是直接通过方法来修改元素样式状态。</td>
        </tr>
        <tr>
            <td>避免大量DOM互相影响</td>
            <td>比如Tabs这种场景，如果你点击一个Tab会显示它控制的区块，显示的那个区块会影响其他的区块，这样可能会起Reflow，因为它们的高度不一样，可以通过定个高度来优化这种场景。</td>
        </tr>
        <tr>
            <td>性能永远比酷炫重要</td>
            <td>记住一个原则，你网页的动画再牛逼，性能还是第一位的，如果每一帧移动1个像素会造成你的页面卡顿，那宁愿一帧移动10像素让动画的帧变得迟钝一些，也不要让页面的性能降下来。</td>
        </tr>
    </tbody>
</table>

<p><a href="https://juejin.im/entry/595b5c135188250d7767f7d3" target="_blank" rel="noopener">参考链接</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/07/Cookie与登录注册/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/07/Cookie与登录注册/" itemprop="url">Cookie与登录注册</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-07T23:22:08+08:00">
                2019-02-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Cookie-的特点"><a href="#Cookie-的特点" class="headerlink" title="Cookie 的特点"></a>Cookie 的特点</h1><ol>
<li>服务器通过 Set-Cookie 响应头设置 Cookie</li>
<li>浏览器得到 Cookie 之后，每次请求都要带上 Cookie</li>
<li>服务器读取 Cookie 就知道登录用户的信息（email）</li>
</ol>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><ol>
<li><p>我在 Chrome 登录了得到 Cookie，用 Safari 访问，Safari 会带上 Cookie 吗
no</p>
</li>
<li><p>Cookie 存在哪
Windows 存在 C 盘的一个文件里</p>
</li>
<li><p>Cookie会被用户篡改吗？
Session 可以解决这个问题，防止用户篡改</p>
</li>
<li><p>Cookie 有效期吗？
默认有效期20分钟左右，不同浏览器策略不同
后端可以强制设置有效期</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">设置过期时间:</span><br><span class="line">Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Expires=&lt;date&gt; Expires //用于定义在哪个时间过期</span><br><span class="line">Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Max-Age=&lt;non-zero-digit&gt; max-age //用于定义在多久之后会过期</span><br><span class="line">删除cookie:</span><br><span class="line">docCookies.removeItem(name[, path],domain)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Cookie 遵守同源策略吗？
也有，不过跟 AJAX 的同源策略稍微有些不同。
当请求 qq.com 下的资源时，浏览器会默认带上 qq.com 对应的 Cookie，不会带上 baidu.com 对应的 Cookie
当请求 v.qq.com 下的资源时，浏览器不仅会带上 v.qq.com 的Cookie，还会带上 qq.com 的 Cookie</p>
</li>
</ol>
<h1 id="Session-与-Cookie-的关系"><a href="#Session-与-Cookie-的关系" class="headerlink" title="Session 与 Cookie 的关系"></a>Session 与 Cookie 的关系</h1><p>一般来说，Session 基于 Cookie 来实现。</p>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><ol>
<li>服务器通过 Set-Cookie 头给客户端一串字符串</li>
<li>客户端每次访问相同域名的网页时，必须带上这段字符串</li>
<li>客户端要在一段时间内保存这个Cookie</li>
<li>Cookie 默认在用户关闭页面后就失效，后台代码可以任意设置 Cookie 的过期时间</li>
<li>大小大概在 4kb 以内</li>
</ol>
<h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><ol>
<li>将 SessionID（随机数）通过 Cookie 发给客户端</li>
<li>客户端访问服务器时，服务器读取 SessionID</li>
<li>服务器有一块内存（哈希表）保存了所有 session</li>
<li>通过 SessionID 我们可以得到对应用户的隐私信息，如 id、email</li>
<li>这块内存（哈希表）就是服务器上的所有 session</li>
</ol>
<h3 id="LocalStorage"><a href="#LocalStorage" class="headerlink" title="LocalStorage"></a>LocalStorage</h3><ol>
<li>LocalStorage 跟 HTTP 无关</li>
<li>HTTP 不会带上 LocalStorage 的值</li>
<li>只有相同域名的页面才能互相读取 LocalStorage（没有同源那么严格）</li>
<li>每个域名 localStorage 最大存储量为 5Mb 左右（每个浏览器不一样）</li>
<li>常用场景：记录有没有提示过用户（没有用的信息，不能记录密码）</li>
<li>LocalStorage 永久有效，除非用户清理缓存</li>
</ol>
<h3 id="SessionStorage（会话存储）"><a href="#SessionStorage（会话存储）" class="headerlink" title="SessionStorage（会话存储）"></a>SessionStorage（会话存储）</h3><p>1、2、3、4 同上</p>
<ol start="5">
<li>SessionStorage 在用户关闭页面（会话结束）后就失效。</li>
</ol>
<h2 id="Cookie-和-Session-的区别"><a href="#Cookie-和-Session-的区别" class="headerlink" title="Cookie 和 Session 的区别"></a>Cookie 和 Session 的区别</h2><p>Cookie 保存在客户端，每次都随请求发送给 Server
Session 保存在 Server 的内存里，其 Session ID 是通过 Cookie 发送给客户端的</p>
<h2 id="Cookie-和-LocalStorage-的区别"><a href="#Cookie-和-LocalStorage-的区别" class="headerlink" title="Cookie 和 LocalStorage 的区别"></a>Cookie 和 LocalStorage 的区别</h2><p>LocalStorage 不会随 HTTP 发给 Server
LocalStorage 的大小限制比 Cookie 大多了</p>
<h2 id="LocalStorage-和-SessionStorage-的区别"><a href="#LocalStorage-和-SessionStorage-的区别" class="headerlink" title="LocalStorage 和 SessionStorage 的区别"></a>LocalStorage 和 SessionStorage 的区别</h2><p>一个不会自动过期，一个会自动过期。</p>
<h2 id="Cache-Control-max-age-1000-缓存-与-ETag-的「缓存」有什么区别？"><a href="#Cache-Control-max-age-1000-缓存-与-ETag-的「缓存」有什么区别？" class="headerlink" title="Cache-Control: max-age=1000 缓存 与 ETag 的「缓存」有什么区别？"></a>Cache-Control: max-age=1000 缓存 与 ETag 的「缓存」有什么区别？</h2><p>Cache-Control 直接不发请求。
而 ETag 要发请求才行。</p>
<hr>
<h1 id="登录注册"><a href="#登录注册" class="headerlink" title="登录注册"></a>登录注册</h1><h2 id="服务端代码server-js"><a href="#服务端代码server-js" class="headerlink" title="服务端代码server.js"></a>服务端代码server.js</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line">var http = require(&apos;http&apos;)</span><br><span class="line">var fs = require(&apos;fs&apos;)</span><br><span class="line">var url = require(&apos;url&apos;)</span><br><span class="line">var port = process.argv[2]</span><br><span class="line"></span><br><span class="line">if(!port)&#123;</span><br><span class="line">  console.log(&apos;请指定端口号\nnode server.js 8888 这样&apos;)</span><br><span class="line">  process.exit(1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var server = http.createServer(function(request, response)&#123;</span><br><span class="line">  var parsedUrl = url.parse(request.url, true)</span><br><span class="line">  var pathWithQuery = request.url </span><br><span class="line">  var queryString = &apos;&apos;</span><br><span class="line">  if(pathWithQuery.indexOf(&apos;?&apos;) &gt;= 0)&#123; queryString = pathWithQuery.substring(pathWithQuery.indexOf(&apos;?&apos;)) &#125;</span><br><span class="line">  var path = parsedUrl.pathname</span><br><span class="line">  var query = parsedUrl.query</span><br><span class="line">  var method = request.method</span><br><span class="line"></span><br><span class="line">  /******** 从这里开始看，上面不要看 ************/</span><br><span class="line"></span><br><span class="line">  console.log(&apos;含查询字符串的路径\n&apos; + pathWithQuery)</span><br><span class="line"></span><br><span class="line">  if(path === &apos;/&apos;)&#123;</span><br><span class="line">    let string = fs.readFileSync(&apos;./index.html&apos;, &apos;utf8&apos;)</span><br><span class="line">    let cookies =  request.headers.cookie.split(&apos;; &apos;) // [&apos;email=1@&apos;, &apos;a=1&apos;, &apos;b=2&apos;]</span><br><span class="line">    let hash = &#123;&#125; //将cookie存放到一个hash表中</span><br><span class="line">    for(let i =0;i&lt;cookies.length; i++)&#123;</span><br><span class="line">      let parts = cookies[i].split(&apos;=&apos;)</span><br><span class="line">      let key = parts[0]</span><br><span class="line">      let value = parts[1]</span><br><span class="line">      hash[key] = value </span><br><span class="line">    &#125;</span><br><span class="line">    let email = hash.sign_in_email</span><br><span class="line">    let users = fs.readFileSync(&apos;./db/users&apos;, &apos;utf8&apos;)</span><br><span class="line">    users = JSON.parse(users)</span><br><span class="line">    let foundUser //确认服务器是否有此用户信息</span><br><span class="line">    for(let i=0; i&lt; users.length; i++)&#123;</span><br><span class="line">      if(users[i].email === email)&#123;</span><br><span class="line">        foundUser = users[i]</span><br><span class="line">        break</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(foundUser)</span><br><span class="line">    if(foundUser)&#123;</span><br><span class="line">      string = string.replace(&apos;__password__&apos;, foundUser.password)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      string = string.replace(&apos;__password__&apos;, &apos;不知道&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    response.statusCode = 200</span><br><span class="line">    response.setHeader(&apos;Content-Type&apos;, &apos;text/html;charset=utf-8&apos;)</span><br><span class="line">    response.write(string)</span><br><span class="line">    response.end()</span><br><span class="line">  &#125;else if(path === &apos;/sign_up&apos; &amp;&amp; method === &apos;GET&apos;)&#123;  //路由sign_up的逻辑</span><br><span class="line">    let string = fs.readFileSync(&apos;./sign_up.html&apos;, &apos;utf8&apos;)</span><br><span class="line">    response.statusCode = 200</span><br><span class="line">    response.setHeader(&apos;Content-Type&apos;, &apos;text/html;charset=utf-8&apos;)</span><br><span class="line">    response.write(string)</span><br><span class="line">    response.end()</span><br><span class="line">  &#125;else if(path === &apos;/sign_up&apos; &amp;&amp; method === &apos;POST&apos;)&#123;</span><br><span class="line">    readBody(request).then((body)=&gt;&#123;</span><br><span class="line">      let strings = body.split(&apos;&amp;&apos;) // [&apos;email=1&apos;, &apos;password=2&apos;, &apos;password_confirmation=3&apos;]</span><br><span class="line">      let hash = &#123;&#125; //将用户提交的信息存到一个hash表里</span><br><span class="line">      strings.forEach((string)=&gt;&#123;</span><br><span class="line">        // string == &apos;email=1&apos;</span><br><span class="line">        let parts = string.split(&apos;=&apos;) // [&apos;email&apos;, &apos;1&apos;]</span><br><span class="line">        let key = parts[0]</span><br><span class="line">        let value = parts[1]</span><br><span class="line">        hash[key] = decodeURIComponent(value) // hash[&apos;email&apos;] = &apos;1&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">      let &#123;email, password, password_confirmation&#125; = hash</span><br><span class="line">      if(email.indexOf(&apos;@&apos;) === -1)&#123; //如果用户填写的邮箱地址不含有@</span><br><span class="line">        response.statusCode = 400</span><br><span class="line">        response.setHeader(&apos;Content-Type&apos;, &apos;application/json;charset=utf-8&apos;)</span><br><span class="line">        response.write(`&#123;</span><br><span class="line">          &quot;errors&quot;: &#123;</span><br><span class="line">            &quot;email&quot;: &quot;invalid&quot;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;`)</span><br><span class="line">      &#125;else if(password !== password_confirmation)&#123;</span><br><span class="line">        response.statusCode = 400</span><br><span class="line">        response.write(&apos;password not match&apos;)</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        var users = fs.readFileSync(&apos;./db/users&apos;, &apos;utf8&apos;)</span><br><span class="line">        try&#123;</span><br><span class="line">          users = JSON.parse(users) // []</span><br><span class="line">        &#125;catch(exception)&#123;</span><br><span class="line">          users = []  //如果解析本地db文件失败则设置为空数组</span><br><span class="line">        &#125;</span><br><span class="line">        let inUse = false //确定本地是否有相同账户邮箱名</span><br><span class="line">        for(let i=0; i&lt;users.length; i++)&#123;</span><br><span class="line">          let user = users[i]</span><br><span class="line">          if(user.email === email)&#123;</span><br><span class="line">            inUse = true</span><br><span class="line">            break;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if(inUse)&#123;</span><br><span class="line">          response.statusCode = 400</span><br><span class="line">          response.write(&apos;email in use&apos;)</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">          users.push(&#123;email: email, password: password&#125;)</span><br><span class="line">          var usersString = JSON.stringify(users)</span><br><span class="line">          fs.writeFileSync(&apos;./db/users&apos;, usersString)</span><br><span class="line">          response.statusCode = 200</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      response.end()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;else if(path===&apos;/sign_in&apos; &amp;&amp; method === &apos;GET&apos;)&#123; //sign_in逻辑与sign_up类似</span><br><span class="line">    let string = fs.readFileSync(&apos;./sign_in.html&apos;, &apos;utf8&apos;)</span><br><span class="line">    response.statusCode = 200</span><br><span class="line">    response.setHeader(&apos;Content-Type&apos;, &apos;text/html;charset=utf-8&apos;)</span><br><span class="line">    response.write(string)</span><br><span class="line">    response.end()</span><br><span class="line">  &#125;else if(path===&apos;/sign_in&apos; &amp;&amp; method === &apos;POST&apos;)&#123;</span><br><span class="line">    readBody(request).then((body)=&gt;&#123;</span><br><span class="line">      let strings = body.split(&apos;&amp;&apos;) // [&apos;email=1&apos;, &apos;password=2&apos;, &apos;password_confirmation=3&apos;]</span><br><span class="line">      let hash = &#123;&#125;</span><br><span class="line">      strings.forEach((string)=&gt;&#123;</span><br><span class="line">        // string == &apos;email=1&apos;</span><br><span class="line">        let parts = string.split(&apos;=&apos;) // [&apos;email&apos;, &apos;1&apos;]</span><br><span class="line">        let key = parts[0]</span><br><span class="line">        let value = parts[1]</span><br><span class="line">        hash[key] = decodeURIComponent(value) // hash[&apos;email&apos;] = &apos;1&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">      let &#123;email, password&#125; = hash</span><br><span class="line">      var users = fs.readFileSync(&apos;./db/users&apos;, &apos;utf8&apos;)</span><br><span class="line">      try&#123;</span><br><span class="line">        users = JSON.parse(users) // []</span><br><span class="line">      &#125;catch(exception)&#123;</span><br><span class="line">        users = []</span><br><span class="line">      &#125;</span><br><span class="line">      let found</span><br><span class="line">      for(let i=0;i&lt;users.length; i++)&#123;</span><br><span class="line">        if(users[i].email === email &amp;&amp; users[i].password === password)&#123;</span><br><span class="line">          found = true</span><br><span class="line">          break</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      if(found)&#123;</span><br><span class="line">        response.setHeader(&apos;Set-Cookie&apos;, `sign_in_email=$&#123;email&#125;`)</span><br><span class="line">        response.statusCode = 200</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        response.statusCode = 401</span><br><span class="line">      &#125;</span><br><span class="line">      response.end()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;else if(path===&apos;/main.js&apos;)&#123;</span><br><span class="line">    let string = fs.readFileSync(&apos;./main.js&apos;, &apos;utf8&apos;)</span><br><span class="line">    response.statusCode = 200</span><br><span class="line">    response.setHeader(&apos;Content-Type&apos;, &apos;text/javascript;charset=utf-8&apos;)</span><br><span class="line">    response.write(string)</span><br><span class="line">    response.end()</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    response.statusCode = 404</span><br><span class="line">    response.setHeader(&apos;Content-Type&apos;, &apos;text/html;charset=utf-8&apos;)</span><br><span class="line">    response.write(`</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;error&quot;: &quot;not found&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    `)</span><br><span class="line">    response.end()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /******** 代码结束，下面不要看 ************/</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">function readBody(request)&#123;</span><br><span class="line">  return new Promise((resolve, reject)=&gt;&#123;</span><br><span class="line">    let body = []</span><br><span class="line">    request.on(&apos;data&apos;, (chunk) =&gt; &#123;</span><br><span class="line">      body.push(chunk);</span><br><span class="line">    &#125;).on(&apos;end&apos;, () =&gt; &#123;</span><br><span class="line">      body = Buffer.concat(body).toString();</span><br><span class="line">      resolve(body)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server.listen(port)</span><br><span class="line">console.log(&apos;监听 &apos; + port + &apos; 成功\n请打开 http://localhost:&apos; + port)</span><br></pre></td></tr></table></figure>
<h2 id="sign-up"><a href="#sign-up" class="headerlink" title="sign_up"></a>sign_up</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;form-wrapper&quot;&gt;</span><br><span class="line">    &lt;h1&gt;注册&lt;/h1&gt;</span><br><span class="line">    &lt;form id=&quot;signUpForm&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">        &lt;label&gt;邮箱&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;error&quot;&gt;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">        &lt;label&gt;密码&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;error&quot;&gt;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">        &lt;label&gt;确认密码&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;password&quot; name=&quot;password_confirmation&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;error&quot;&gt;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;submit&quot; value=&quot;注册&quot;&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;script src=&quot;https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    let $form = $(&apos;#signUpForm&apos;)</span><br><span class="line">    $form.on(&apos;submit&apos;, (e)=&gt;&#123;</span><br><span class="line">      e.preventDefault()</span><br><span class="line">      let hash = &#123;&#125;</span><br><span class="line">      let need = [&apos;email&apos;, &apos;password&apos;, &apos;password_confirmation&apos;]</span><br><span class="line">      need.forEach((name)=&gt;&#123;</span><br><span class="line">        let value = $form.find(`[name=$&#123;name&#125;]`).val()</span><br><span class="line">        hash[name] = value</span><br><span class="line">      &#125;)</span><br><span class="line">      $form.find(&apos;.error&apos;).each((index, span)=&gt;&#123;</span><br><span class="line">        $(span).text(&apos;&apos;)</span><br><span class="line">      &#125;)</span><br><span class="line">      if(hash[&apos;email&apos;] === &apos;&apos;)&#123;</span><br><span class="line">        $form.find(&apos;[name=&quot;email&quot;]&apos;).siblings(&apos;.error&apos;)</span><br><span class="line">          .text(&apos;填邮箱呀同学&apos;)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      if(hash[&apos;password&apos;] === &apos;&apos;)&#123;</span><br><span class="line">        $form.find(&apos;[name=&quot;password&quot;]&apos;).siblings(&apos;.error&apos;)</span><br><span class="line">          .text(&apos;填密码呀同学&apos;)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      if(hash[&apos;password_confirmation&apos;] === &apos;&apos;)&#123;</span><br><span class="line">        $form.find(&apos;[name=&quot;password_confirmation&quot;]&apos;).siblings(&apos;.error&apos;)</span><br><span class="line">          .text(&apos;确认密码呀同学&apos;)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      if(hash[&apos;password&apos;] !== hash[&apos;password_confirmation&apos;])&#123;</span><br><span class="line">        $form.find(&apos;[name=&quot;password_confirmation&quot;]&apos;).siblings(&apos;.error&apos;)</span><br><span class="line">          .text(&apos;密码不匹配&apos;)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      $.post(&apos;/sign_up&apos;, hash)  </span><br><span class="line">        .then((response)=&gt;&#123;</span><br><span class="line">          console.log(response)</span><br><span class="line">        &#125;, (request)=&gt;&#123;</span><br><span class="line">          let &#123;errors&#125; = request.responseJSON</span><br><span class="line">          if(errors.email &amp;&amp; errors.email === &apos;invalid&apos;)&#123;</span><br><span class="line">            $form.find(&apos;[name=&quot;email&quot;]&apos;).siblings(&apos;.error&apos;)</span><br><span class="line">              .text(&apos;邮箱格式错误&apos;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h2 id="sign-in"><a href="#sign-in" class="headerlink" title="sign_in"></a>sign_in</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;form-wrapper&quot;&gt;</span><br><span class="line">    &lt;h1&gt;登录&lt;/h1&gt;</span><br><span class="line">    &lt;form id=&quot;signInForm&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">        &lt;label&gt;邮箱&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;error&quot;&gt;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">        &lt;label&gt;密码&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;error&quot;&gt;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;script src=&quot;https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    let $form = $(&apos;#signInForm&apos;)</span><br><span class="line">    $form.on(&apos;submit&apos;, (e)=&gt;&#123; </span><br><span class="line">      e.preventDefault()  </span><br><span class="line">      let hash = &#123;&#125;  </span><br><span class="line">      let need = [&apos;email&apos;, &apos;password&apos;]</span><br><span class="line">      need.forEach((name)=&gt;&#123;</span><br><span class="line">        let value = $form.find(`[name=$&#123;name&#125;]`).val()</span><br><span class="line">        hash[name] = value</span><br><span class="line">      &#125;)</span><br><span class="line">      $form.find(&apos;.error&apos;).each((index, span)=&gt;&#123;</span><br><span class="line">        $(span).text(&apos;&apos;)</span><br><span class="line">      &#125;)</span><br><span class="line">      if(hash[&apos;email&apos;] === &apos;&apos;)&#123;</span><br><span class="line">        $form.find(&apos;[name=&quot;email&quot;]&apos;).siblings(&apos;.error&apos;)</span><br><span class="line">          .text(&apos;填邮箱呀同学&apos;)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      if(hash[&apos;password&apos;] === &apos;&apos;)&#123;</span><br><span class="line">        $form.find(&apos;[name=&quot;password&quot;]&apos;).siblings(&apos;.error&apos;)</span><br><span class="line">          .text(&apos;填密码呀同学&apos;)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      $.post(&apos;/sign_in&apos;, hash)  </span><br><span class="line">        .then((response)=&gt;&#123;</span><br><span class="line">          window.location.href = &apos;/&apos;</span><br><span class="line">        &#125;, (request)=&gt;&#123;</span><br><span class="line">          alert(&apos;邮箱与密码不匹配&apos;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h2 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;你的密码是：__password__&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/18/CSS深入浅出总结/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/18/CSS深入浅出总结/" itemprop="url">CSS深入浅出总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-18T16:50:45+08:00">
                2019-01-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CSS-的学习思路"><a href="#CSS-的学习思路" class="headerlink" title="CSS 的学习思路"></a>CSS 的学习思路</h1><p>理解常用原理，熟练常用套路。</p>
<ul>
<li>控制文档流：利用好默认的宽度和高度规则</li>
<li>控制 z-index：堆叠上下文和堆叠顺序</li>
<li>理解 BFC</li>
<li>理解 IFC</li>
<li>理解 Float 布局和 Flex 布局</li>
<li>理解响应式</li>
<li>掌握动态 REM 方案</li>
<li>掌握 icon 的使用</li>
<li>掌握 Bootstrap 的使用</li>
<li>其他套路收集</li>
</ul>
<p>别人研究出来我直接用即可。</p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener">animate.css</a>
<a href="https://css-tricks.com/" target="_blank" rel="noopener">CSS tricks</a>
<a href="https://codepen.io/pens/" target="_blank" rel="noopener">Codepen</a>
<a href="https://tympanus.net/codrops/" target="_blank" rel="noopener">Codrops</a>
<a href="https://itmeo.com/" target="_blank" rel="noopener">itmeo</a></p>
<h1 id="控制文档流：利用好默认的宽度和高度规则"><a href="#控制文档流：利用好默认的宽度和高度规则" class="headerlink" title="控制文档流：利用好默认的宽度和高度规则"></a>控制文档流：利用好默认的宽度和高度规则</h1><ul>
<li>文档流中内联元素默认从左到右排列，宽度不够则自动换行</li>
<li>文档流中块级元素从上到下排列，每个元素占一行</li>
<li>float:left、position:absolute、position: fixed 可以使元素脱离文档流</li>
<li>块级元素的高度由其文档流中元素高度的总和确定</li>
<li>给 inline 元素设置宽高是没有任何效果的</li>
<li>height 可以用 line-height 和 padding 来撑，这样写更灵活美观</li>
</ul>
<p>两行文字「姓名」与「联系方式」两端对齐套路
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.span&#123;</span><br><span class="line">    display:inline-block;</span><br><span class="line">    width:4em;</span><br><span class="line">    text-align:justify;</span><br><span class="line">    overflow:hidden;</span><br><span class="line">&#125;</span><br><span class="line">.span::after&#123;</span><br><span class="line">    content:&quot;&quot;;</span><br><span class="line">    display:inline-block;</span><br><span class="line">    width:100%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>多行(3)文本超出部分变成省略号的套路
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$&#123;</span><br><span class="line">    overflow: hidden;  </span><br><span class="line">    text-overflow: ellipsis;  </span><br><span class="line">    display: -webkit-box;  </span><br><span class="line">    -webkit-line-clamp: 3;  </span><br><span class="line">    -webkit-box-orient: vertical; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="控制-z-index：堆叠上下文和堆叠顺序"><a href="#控制-z-index：堆叠上下文和堆叠顺序" class="headerlink" title="控制 z-index：堆叠上下文和堆叠顺序"></a>控制 z-index：堆叠上下文和堆叠顺序</h1><p><a href="https://www.zhangxinxu.com/wordpress/2016/01/understand-css-stacking-context-order-z-index/" target="_blank" rel="noopener">堆叠上下文</a></p>
<p>堆叠顺序</p>
<ul>
<li>z-index: -</li>
<li>background</li>
<li>border</li>
<li>块级</li>
<li>浮动</li>
<li>内联</li>
<li>z-index: 0</li>
<li>z-index: +</li>
<li>如果是兄弟元素重叠，那么后面的盖在前面的身上。</li>
</ul>
<p>堆叠作用域,跟 BFC 一样,如下属性会触发堆叠上下文</p>
<ul>
<li>根元素 (HTML),</li>
<li>z-index 值不为 “auto”的 绝对/相对定位，</li>
<li>一个 z-index 值不为 “auto”的 flex 项目 (flex item)，即：父元素 display: flex|inline-flex，</li>
<li>opacity 属性值小于 1 的元素（参考 the specification for opacity），</li>
<li>transform 属性值不为 “none”的元素，</li>
<li>mix-blend-mode 属性值不为 “normal”的元素，</li>
<li>filter值不为“none”的元素，</li>
<li>perspective值不为“none”的元素，</li>
<li>isolation 属性被设置为 “isolate”的元素，</li>
<li>position: fixed</li>
<li>在 will-change 中指定了任意 CSS 属性，即便你没有直接指定这些属性的值</li>
<li>-webkit-overflow-scrolling 属性被设置 “touch”的元素</li>
</ul>
<h1 id="理解-BFC"><a href="#理解-BFC" class="headerlink" title="理解 BFC"></a>理解 BFC</h1><p>一个块格式化上下文（block formatting context） 是Web页面的可视化CSS渲染出的一部分。它是块级盒布局出现的区域，也是浮动层元素进行交互的区域。</p>
<p>一个块格式化上下文由以下之一创建：</p>
<ul>
<li>根元素或其它包含它的元素</li>
<li>浮动元素 (元素的 float 不是 none)</li>
<li>绝对定位元素 (元素具有 position 为 absolute 或 fixed)</li>
<li>内联块 (元素具有 display: inline-block)</li>
<li>表格单元格 (元素具有 display: table-cell，HTML表格单元格默认属性)</li>
<li>表格标题 (元素具有 display: table-caption, HTML表格标题默认属性)</li>
<li>具有overflow 且值不是 visible 的块元素，</li>
<li>display: flow-root</li>
<li>column-span: all 应当总是会创建一个新的格式化上下文，即便具有 column-span: all 的元素并不被包裹在一个多列容器中。
一个块格式化上下文包括创建它的元素内部所有内容，除了被包含于创建新的块级格式化上下文的后代元素内的元素。</li>
</ul>
<p>BFC的作用：</p>
<ol>
<li>父元素管子元素：用 BFC 包住浮动元素。</li>
<li>兄弟元素划清界限：用 float + div 做左右自适应布局。</li>
</ol>
<p>避免其他bug的触发BFC套路：<code>display: flow-root; /*触发BFC*/</code></p>
<h1 id="理解-IFC"><a href="#理解-IFC" class="headerlink" title="理解 IFC"></a>理解 IFC</h1><p>IFC(inline formatting context)规则：在行内格式化上下文中，框(boxes)一个接一个地水平排列，起点是包含块的顶部。水平方向上的 margin，border 和 padding在框之间得到保留。框在垂直方向上可以以不同的方式对齐：它们的顶部或底部对齐，或根据其中文字的基线对齐。包含那些框的长方形区域，会形成一行，叫做行框。</p>
<p><a href="https://zhuanlan.zhihu.com/p/25808995" target="_blank" rel="noopener">《深入理解 CSS：字体度量、line-height 和 vertical-align》</a></p>
<p>IFC应用：</p>
<ul>
<li>图片下面有空隙
  vertical-align: top
  img{display: block;}
  font-size: 0 不建议，bug多</li>
<li>inline-block 元素对不齐 ： 用 flex 或 float</li>
<li>inline-block 有空隙 ： flex 或 float</li>
</ul>
<h1 id="理解-Float-布局和-Flex-布局"><a href="#理解-Float-布局和-Flex-布局" class="headerlink" title="理解 Float 布局和 Flex 布局"></a>理解 Float 布局和 Flex 布局</h1><ul>
<li>不到万不得已，不要写死 width 和 height</li>
<li>尽量用高级语法，如 calc、flex</li>
<li>如果是 IE，就全部写死</li>
</ul>
<p><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">Flex 布局教程</a>
如果宽度不够，可以用 margin: 0 -4px;</p>
<p>float布局父元素加clearfix
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.clearfix:after&#123;</span><br><span class="line">    content: &apos;&apos;;</span><br><span class="line">    display: block;</span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix&#123;</span><br><span class="line">    zoom: 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="理解响应式"><a href="#理解响应式" class="headerlink" title="理解响应式"></a>理解响应式</h1><p>手机端页面的做法:</p>
<ul>
<li>media query</li>
<li>先确保设计图，后写代码</li>
<li>隐藏元素</li>
<li>手机端要加一个 meta<code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;</code></li>
</ul>
<p>手机端的交互方式不一样</p>
<ul>
<li>没有 hover</li>
<li>有 touch 事件</li>
<li>没有 resize</li>
<li>没有滚动条</li>
</ul>
<h1 id="掌握动态-REM-方案"><a href="#掌握动态-REM-方案" class="headerlink" title="掌握动态 REM 方案"></a>掌握动态 REM 方案</h1><ol>
<li><p>手机端方案的特点</p>
<ul>
<li>所有手机显示的界面都是一样的，只是大小不同</li>
<li>1 rem == html font-size == viewport width</li>
</ul>
</li>
<li><p>使用 JS 动态调整 REM</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    var pageWidth = window.innerWidth</span><br><span class="line">    document.write(&apos;&lt;style&gt;html&#123;font-size:&apos;+pageWidth+&apos;px;&#125;&lt;/style&gt;&apos;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>REM 可以与其他单位同时存在</p>
</li>
<li><p>在 SCSS 里使用 PX2REM</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/Desktop/scss-demo</span><br><span class="line">cd ~/Desktop/scss-demo</span><br><span class="line">mkdir scss css</span><br><span class="line">touch scss/style.scss</span><br><span class="line">start scss/style.scss</span><br><span class="line">node-sass -wr scss -o css</span><br></pre></td></tr></table></figure>
<p> 编辑 scss 文件就会自动得到 css 文件
 在 scss 文件里添加</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@function px( $px )&#123;</span><br><span class="line">  @return $px/$designWidth*10 + rem;</span><br><span class="line">&#125;</span><br><span class="line">$designWidth : 640; // 640 是设计稿的宽度，你要根据设计稿的宽度填写。</span><br><span class="line">.child&#123;</span><br><span class="line">  width: px(320);</span><br><span class="line">  height: px(160);</span><br><span class="line">  margin: px(40) px(40);</span><br><span class="line">  border: 1px solid red;</span><br><span class="line">  float: left;</span><br><span class="line">  font-size: 1.2em;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 即可实现 px 自动变 rem</p>
</li>
</ol>
<h1 id="掌握-icon-的使用"><a href="#掌握-icon-的使用" class="headerlink" title="掌握 icon 的使用"></a>掌握 icon 的使用</h1><p><a href="https://www.iconfont.cn/" target="_blank" rel="noopener">使用SVG</a>
第一步：拷贝项目下面生成的symbol代码：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//at.alicdn.com/t/font_8d5l8fzk5b87iudi.js</span><br></pre></td></tr></table></figure></p>
<p>第二步：加入通用css代码（引入一次就行）：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">    .icon &#123;</span><br><span class="line">       width: 1em; height: 1em;</span><br><span class="line">       vertical-align: -0.15em;</span><br><span class="line">       fill: currentColor;</span><br><span class="line">       overflow: hidden;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>
<p>第三步：挑选相应图标并获取类名，应用于页面：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg class=&quot;icon&quot; aria-hidden=&quot;true&quot;&gt;</span><br><span class="line">    &lt;use xlink:href=&quot;#icon-xxx&quot;&gt;&lt;/use&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="掌握-Bootstrap-的使用"><a href="#掌握-Bootstrap-的使用" class="headerlink" title="掌握 Bootstrap 的使用"></a>掌握 Bootstrap 的使用</h1><p>Bootstrap 的使用方法就是复制粘贴</p>
<h1 id="其他套路收集"><a href="#其他套路收集" class="headerlink" title="其他套路收集"></a>其他套路收集</h1><p>磨砂效果思路：底部色彩用background-color，白噪声采用png图片作为background-image。优化一下，采用base64方式设background-image。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  background-color: #000000;</span><br><span class="line">  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="https://segmentfault.com/q/1010000007793299" target="_blank" rel="noopener">参考资料</a></p>
<p>磨砂玻璃效果:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">body, main::before &#123; </span><br><span class="line">    background: url(&quot;tiger.jpg&quot;) 0 / cover fixed; </span><br><span class="line">&#125; </span><br><span class="line">main &#123; </span><br><span class="line">    position: relative; </span><br><span class="line">    background: hsla(0,0%,100%,.3); </span><br><span class="line">    overflow: hidden; </span><br><span class="line">&#125; </span><br><span class="line">main::before &#123; </span><br><span class="line">    content: &apos;&apos;; </span><br><span class="line">    position: absolute; </span><br><span class="line">    top: 0; right: 0; bottom: 0; left: 0; </span><br><span class="line">    filter: blur(20px); </span><br><span class="line">    margin: -30px; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="https://www.w3cplus.com/css3/css-secrets/frosted-glass-effect.html" target="_blank" rel="noopener">参考资料</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/07/实现一个jQuery的API/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/07/实现一个jQuery的API/" itemprop="url">实现一个jQuery的API</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-07T20:52:44+08:00">
                2019-01-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function (nodeOrSelector) &#123; //接受一个节点或者CSS选择器来找到目标</span><br><span class="line">    let nodes = &#123;&#125; //初始化一个空的nodes对象，来存放获取到的目标对象</span><br><span class="line">    if (typeof nodeOrSelector === &apos;string&apos;) &#123;  //如果接受到的参数是CSS选择器</span><br><span class="line">        let temp = document.querySelectorAll(nodeOrSelector) //通过DOM的querySelectorAll方法来找到目标对象存放到temp中</span><br><span class="line">        for (let i = 0; i &lt; temp.length; i++) &#123; //遍历这个CSS选择器找到的所有目标</span><br><span class="line">            nodes[i] = temp[i] // 将获取的伪数组的每个值一一存放到nodes对象中</span><br><span class="line">        &#125;</span><br><span class="line">        nodes.length = temp.length //将获取到的伪数组的长度值赋给nodes对象的长度</span><br><span class="line">    &#125; else if (nodeOrSelector instanceof Node) &#123; //如果接受到的参数是一个节点</span><br><span class="line">        nodes = &#123; //直接将改节点存放到nodes对象中</span><br><span class="line">            0: nodeOrSelector, //有且仅有一个的值即节点本身</span><br><span class="line">            length: 1 //对象只存了一个节点故长度为1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    nodes.addClass = function (classes) &#123; //设置一个添加类名的函数addClass，可接受多个类名</span><br><span class="line">        classes.forEach(value =&gt; &#123; //多个类名通过数组存放，通过数组的forEach方法遍历类名数组的每一个值。</span><br><span class="line">            for (let i = 0; i &lt; nodes.length; i++) &#123; //遍历获取到的每个节点</span><br><span class="line">                nodes[i].classList.add(value) //将类名数组的每一个值都添加到目标节点的classList中</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    nodes.Text = function (text) &#123; //设置一个获取文本或添加文本的函数Text</span><br><span class="line">        if (text === undefined) &#123; //如果用户没有提供参数，默认为获取目标节点中的文本</span><br><span class="line">            var texts = [] //初始化一个空的数组对象，来存放文本</span><br><span class="line">            for (let i = 0; i &lt; node.length; i++) &#123; //遍历获取到的每个节点</span><br><span class="line">                texts.push(node[i].textContent) //通过DOM的textContent方法来获取节点中的文本，并通过数组的push方法将文本存到texts数组中</span><br><span class="line">            &#125;</span><br><span class="line">            return texts //将存放完文本的texts数组返回给用户</span><br><span class="line">        &#125; else &#123; //如果用户提供了参数，默认为将参数设置为目标节点中的文本</span><br><span class="line">            for (let i = 0; i &lt; nodes.length; i++) &#123; //遍历获取到的每个节点</span><br><span class="line">                nodes[i].textContent = text //通过DOM的textContent方法将用户提供的参数设置为节点中的文本。</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return nodes //返回获取到的节点，提供给客户使用。</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/31/原型与原型链/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/31/原型与原型链/" itemprop="url">原型与原型链</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-31T23:03:29+08:00">
                2018-12-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="全局对象-window"><a href="#全局对象-window" class="headerlink" title="全局对象 window"></a>全局对象 window</h1><p>ECMAScript 规定全局对象叫做 global，但是浏览器把 window 作为全局对象（浏览器先存在的）
window 就是一个哈希表，有很多属性。
window 的属性就是全局变量。
这些全局变量分为两种：</p>
<ol>
<li>一种是 ECMAScript 规定的</li>
</ol>
<ul>
<li>global.parseInt</li>
<li>global.parseFloat</li>
<li>global.Number</li>
<li>global.String</li>
<li>global.Boolean</li>
<li>global.Object</li>
</ul>
<ol start="2">
<li>一种是浏览器自己加的属性</li>
</ol>
<ul>
<li>window.alert</li>
<li>window.prompt</li>
<li>window.comfirm</li>
<li>window.console.log</li>
<li>window.console.dir</li>
<li>window.document</li>
<li>window.document.createElement</li>
<li>window.document.getElementById</li>
</ul>
<h1 id="全局函数"><a href="#全局函数" class="headerlink" title="全局函数"></a>全局函数</h1><ol>
<li>Number
var n = new Number(1) 创建一个 Number 对象
1 与 new Number(1) 的区别是什么？基本对象在stack里，new出来的对象在heap里。</li>
<li>String
var s = new String(‘hello’) 创建一个 String 对象
‘hello’ 与 new String(‘hello’) 的区别是什么？基本对象在stack里，new出来的对象在heap里。</li>
<li>Boolean
var b = new Boolean(true) 创建一个 Boolean 对象
true 与 new Boolean(true) 的区别是什么？基本对象在stack里，new出来的对象在heap里。</li>
<li>Object
var o1 = {}
var o2 = new Object()
o1 和 o2 没区别</li>
</ol>
<h1 id="公用的属性藏在哪"><a href="#公用的属性藏在哪" class="headerlink" title="公用的属性藏在哪"></a>公用的属性藏在哪</h1><p>所有对象都有 toString 和 valueOf 属性，那么我们是否有必要给每个对象一个 toString 和 valueOf 呢？</p>
<p>明显不需要。</p>
<p>JS 的做法是把 toString 和 valueOf 放在一个对象里（暂且叫做公用属性组成的对象）</p>
<p>然后让每一个对象的 <code>__proto__</code> 存储这个「公用属性组成的对象」的地址。</p>
<h1 id="重要公式"><a href="#重要公式" class="headerlink" title="重要公式"></a>重要公式</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var 对象 = new 函数()</span><br><span class="line">对象.__proto__ === 对象的构造函数.prototype</span><br><span class="line"></span><br><span class="line">// 推论</span><br><span class="line">var number = new Number()</span><br><span class="line">number.__proto__ = Number.prototype</span><br><span class="line">Number.__proto__ = Function.prototype // 因为 Number 是 Function 的实例</span><br><span class="line"></span><br><span class="line">var object = new Object()</span><br><span class="line">object.__proto__ = Object.prototype</span><br><span class="line">Object.__proto__ = Function.prototype // 因为 Object 是 Function 的实例</span><br><span class="line"></span><br><span class="line">var function = new Function()</span><br><span class="line">function.__proto__ = Function.prototype</span><br><span class="line">Function.__proto__ == Function.prototye // 因为 Function 是 Function 的实例！</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2018/12/31/5c2a32eecd55e.jpg" alt="proto.jpg"></p>
<h1 id="其他参考"><a href="#其他参考" class="headerlink" title="其他参考"></a>其他参考</h1><p><a href="https://www.cnblogs.com/thonrt/p/5900510.html" target="_blank" rel="noopener">js深入理解构造函数和原型对象</a>
<img src="https://i.loli.net/2018/12/31/5c2a32ee91e53.png" alt="prototype.png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/31/JavaScript数据类型转换/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/31/JavaScript数据类型转换/" itemprop="url">JavaScript数据类型转换</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-31T14:07:37+08:00">
                2018-12-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h1><h2 id="任意类型转字符串"><a href="#任意类型转字符串" class="headerlink" title="任意类型转字符串"></a>任意类型转字符串</h2><ol>
<li>Sting(x)
<img src="https://i.loli.net/2018/12/31/5c29c91a8febb.jpg" alt="String(x).jpg"></li>
<li>x.toString()
<img src="https://i.loli.net/2018/12/31/5c29c91abfa91.jpg" alt="toSting.jpg"></li>
<li>x + ‘’
<img src="https://i.loli.net/2018/12/31/5c29c91aaa96a.jpg" alt="x+&#39;&#39;.jpg"></li>
</ol>
<h2 id="任意类型转数字"><a href="#任意类型转数字" class="headerlink" title="任意类型转数字"></a>任意类型转数字</h2><ul>
<li>Number(x)</li>
<li>parseInt(x, 10) MDN</li>
<li>parseFloat(x) MDN</li>
<li>x - 0</li>
<li>+x</li>
</ul>
<h2 id="任意类型转布尔"><a href="#任意类型转布尔" class="headerlink" title="任意类型转布尔"></a>任意类型转布尔</h2><ol>
<li>Boolean(x)</li>
<li>!!x</li>
</ol>
<h2 id="内存图"><a href="#内存图" class="headerlink" title="内存图"></a>内存图</h2><p>数据区分为 Stack（栈内存） 和 Heap（堆内存）
简单类型的数据直接存在 Stack 里
复杂类型的数据是把 Heap 地址存在 Stack 里</p>
<p><img src="https://i.loli.net/2018/12/31/5c29d488595df.png" alt="stackHeap.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = 1</span><br><span class="line">var b = a</span><br><span class="line">b = 2</span><br><span class="line">// a = 1</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;name: &apos;a&apos;&#125;</span><br><span class="line">var b = a</span><br><span class="line">b = &#123;name: &apos;b&apos;&#125;</span><br><span class="line">// a.name = &apos;a&apos;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;name: &apos;a&apos;&#125;</span><br><span class="line">var b = a</span><br><span class="line">b.name = &apos;b&apos;</span><br><span class="line">// a.name = &apos;b&apos;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;name: &apos;a&apos;&#125;</span><br><span class="line">var b = a</span><br><span class="line">b = null</span><br><span class="line">// a = &apos;a&apos;</span><br></pre></td></tr></table></figure>
<p>浏览器是先从左到右分析变量，再从右往左计算。所以a.x和a在stack里的地址不同。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;n:1&#125;;</span><br><span class="line">var b = a;</span><br><span class="line">var a.x = a = &#123;n:2&#125;;</span><br><span class="line"></span><br><span class="line">alert(a.x); // undefined</span><br><span class="line">alert(b.x); // [object object]</span><br></pre></td></tr></table></figure></p>
<p><img src="https://i.loli.net/2018/12/31/5c29d7a5cd541.png" alt="stackHeapTest.png"></p>
<h2 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h2><p>清理没有被stack区引用的heap区对象,释放内存空间,供其他对象使用。</p>
<h2 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h2><p>对于简单类型的数据来说，赋值就是深拷贝。
对于复杂类型的数据（对象）来说，才要区分浅拷贝和深拷贝。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a = 1</span><br><span class="line">var b = a</span><br><span class="line">b = 2 //这个时候改变 b</span><br><span class="line">a 完全不受 b 的影响</span><br><span class="line">那么我们就说这是一个深拷贝</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;name: &apos;frank&apos;&#125;</span><br><span class="line">var b = a</span><br><span class="line">b.name = &apos;b&apos;</span><br><span class="line">a.name === &apos;b&apos; // true</span><br><span class="line">我们对 b 操作后，a 也变了</span><br><span class="line">那么我们就说这是一个浅拷贝</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/31/JavaScript的数据类型/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/31/JavaScript的数据类型/" itemprop="url">JavaScript的数据类型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-31T11:23:04+08:00">
                2018-12-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="七种数据类型"><a href="#七种数据类型" class="headerlink" title="七种数据类型"></a>七种数据类型</h1><p>number, string, boolean, symbol, null, undefined, object。</p>
<h2 id="number"><a href="#number" class="headerlink" title="number"></a>number</h2><h3 id="整数和浮点数"><a href="#整数和浮点数" class="headerlink" title="整数和浮点数"></a>整数和浮点数</h3><p>JavaScript 内部，所有数字都是以64位浮点数形式储存，即使整数也是如此。
这就是说，JavaScript 语言的底层根本没有整数，所有数字都是小数（64位浮点数）。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 === 1.0 // true</span><br><span class="line"></span><br><span class="line">0.1 + 0.2 === 0.3 // false</span><br><span class="line"></span><br><span class="line">0.3 / 0.1 // 2.9999999999999996</span><br></pre></td></tr></table></figure></p>
<h3 id="数值精度"><a href="#数值精度" class="headerlink" title="数值精度"></a>数值精度</h3><p>JavaScript 对15位的十进制数都可以精确处理。</p>
<h3 id="数值范围"><a href="#数值范围" class="headerlink" title="数值范围"></a>数值范围</h3><p>JavaScript 能够表示的数值范围为21024到2-1023（开区间）。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Math.pow(2, 1024) // Infinity</span><br><span class="line">Math.pow(2, -1075) // 0</span><br><span class="line"></span><br><span class="line">var x = 0.5;</span><br><span class="line">for(var i = 0; i &lt; 25; i++) &#123;</span><br><span class="line">  x = x * x;</span><br><span class="line">&#125;</span><br><span class="line">x // 0</span><br><span class="line"></span><br><span class="line">Number.MAX_VALUE // 1.7976931348623157e+308</span><br><span class="line">Number.MIN_VALUE // 5e-324</span><br></pre></td></tr></table></figure></p>
<h3 id="数值的表示法"><a href="#数值的表示法" class="headerlink" title="数值的表示法"></a>数值的表示法</h3><p>0开头八进制需特别注意，容易出bug。</p>
<ul>
<li>整数和小数：<code>1 1.1 .1</code></li>
<li>科学记数法：<code>1.23e2</code></li>
<li>二进制：<code>0b11</code></li>
<li>八进制：<code>011（后来 ES5 添加了 0o11 语法）</code></li>
<li>十六进制：<code>0x11</code></li>
<li>NaN： <code>5 - &#39;x&#39; // NaN</code></li>
</ul>
<h2 id="string"><a href="#string" class="headerlink" title="string"></a>string</h2><p>字符串就是零个或多个排在一起的字符，放在单引号或双引号之中。</p>
<h3 id="转义"><a href="#转义" class="headerlink" title="转义"></a>转义</h3><p>反斜杠（\）在字符串内有特殊含义，用来表示一些特殊字符，所以又称为转义符。
需要用反斜杠转义的特殊字符，主要有下面这些。</p>
<ul>
<li><code>\0</code> ：null（\u0000）</li>
<li><code>\b</code> ：后退键（\u0008）</li>
<li><code>\f</code> ：换页符（\u000C）</li>
<li><code>\n</code> ：换行符（\u000A）</li>
<li><code>\r</code> ：回车键（\u000D）</li>
<li><code>\t</code> ：制表符（\u0009）</li>
<li><code>\v</code> ：垂直制表符（\u000B）</li>
<li><code>\&#39;</code> ：单引号（\u0027）</li>
<li><code>\&quot;</code> ：双引号（\u0022）</li>
<li><code>\\</code> ：反斜杠（\u005C）</li>
</ul>
<h3 id="字符集与base64转码"><a href="#字符集与base64转码" class="headerlink" title="字符集与base64转码"></a>字符集与base64转码</h3><p>JavaScript 使用 Unicode 字符集。
Base64 就是一种编码方法，可以将任意值转成 0～9、A～Z、a-z、+和/这64个字符组成的可打印字符。使用它的主要目的，不是为了加密，而是为了不出现特殊字符，简化程序的处理。
要将非 ASCII 码字符转为 Base64 编码，必须中间插入一个转码环节，再使用这两个方法。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function b64Encode(str) &#123;</span><br><span class="line">  return btoa(encodeURIComponent(str));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function b64Decode(str) &#123;</span><br><span class="line">  return decodeURIComponent(atob(str));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">b64Encode(&apos;你好&apos;) // &quot;JUU0JUJEJUEwJUU1JUE1JUJE&quot;</span><br><span class="line">b64Decode(&apos;JUU0JUJEJUEwJUU1JUE1JUJE&apos;) // &quot;你好&quot;</span><br></pre></td></tr></table></figure></p>
<h3 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a>多行字符串</h3><p>换行时用<code>&#39;&#39;+&#39;&#39;</code>可读性更好更不易出错。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var s = &apos;12345&apos; +</span><br><span class="line">            &apos;67890&apos; // 无回车符号</span><br><span class="line"> </span><br><span class="line">var s = `12345</span><br><span class="line">67890` // 含回车符号</span><br></pre></td></tr></table></figure></p>
<h2 id="boolean"><a href="#boolean" class="headerlink" title="boolean"></a>boolean</h2><p>布尔值代表“真”和“假”两个状态。“真”用关键字true表示，“假”用关键字false表示。
除了下面六个值被转为false，其他值都视为true。</p>
<ul>
<li>undefined</li>
<li>null</li>
<li>false</li>
<li>0</li>
<li>NaN</li>
<li>“”或’’（空字符串）</li>
</ul>
<h2 id="symbol"><a href="#symbol" class="headerlink" title="symbol"></a>symbol</h2><p>Symbol 可以创建一个独一无二的值（但并不是字符串）。
Symbol 生成一个全局唯一的值。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a1 = Symbol(&apos;a&apos;)</span><br><span class="line">var a2 = Symbol(&apos;a&apos;)</span><br><span class="line">a1 !== a2 // true</span><br></pre></td></tr></table></figure></p>
<h2 id="null和undefined"><a href="#null和undefined" class="headerlink" title="null和undefined"></a>null和undefined</h2><p>都表示没有值。</p>
<ol>
<li>（规范）如果一个变量没有被赋值，那么这个变量的值就是 <code>undefiend</code></li>
<li>（习俗）如果你想表示一个还没赋值的对象，就用 <code>null</code>。如果你想表示一个还没赋值的字符串/数字/布尔/symbol，就用 <code>undefined</code></li>
</ol>
<p>大多数情况下，我们都应该用null。undefined仅仅在判断函数参数是否传递的情况下有用。</p>
<h2 id="object"><a href="#object" class="headerlink" title="object"></a>object</h2><p>对象就是一组“键值对”（key-value）的集合，是一种无序的复合数据集合。</p>
<ul>
<li>object 就是上面几种基本类型（无序地）组合在一起</li>
<li>object 里面可以有 object</li>
<li>object 的 key 一律是字符串，不存在其他类型的 key</li>
<li><code>object[&#39;&#39;]</code> 是合法的</li>
<li><code>object[&#39;key&#39;]</code> 可以写作 <code>object.key</code></li>
<li><code>object.key</code> 与 <code>object[key]</code> 不同</li>
<li><code>delete object[&#39;key&#39;]</code></li>
<li><code>&#39;key&#39; in object</code></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">xxx 的类型</th>
<th style="text-align:center">string</th>
<th style="text-align:center">number</th>
<th style="text-align:center">boolean</th>
<th style="text-align:center">symbol</th>
<th style="text-align:center">undefined</th>
<th style="text-align:center">null</th>
<th style="text-align:center">object</th>
<th style="text-align:center">function</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">typeof xxx</td>
<td style="text-align:center">‘string’</td>
<td style="text-align:center">‘number’</td>
<td style="text-align:center">‘boolean’</td>
<td style="text-align:center">‘symbol’</td>
<td style="text-align:center">‘undefined’</td>
<td style="text-align:center">‘object’</td>
<td style="text-align:center">‘object’</td>
<td style="text-align:center">‘function’</td>
</tr>
</tbody>
</table>
<p>注意 function 并不是一个类型</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/22/CSS布局/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/22/CSS布局/" itemprop="url">CSS布局</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-22T13:32:50+08:00">
                2018-12-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="左右布局"><a href="#左右布局" class="headerlink" title="左右布局"></a>左右布局</h1><p>两列布局一般是一边定宽一边自适应，下面采用左定宽右自适应举例。</p>
<p>div块级元素本身是上下垂直方向放置，通过float让块级div脱离文档流，向左浮动。但浮动后仍会占据文档流空间，需要让右边的div向右移动左div的宽度避免重叠。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.left&#123;</span><br><span class="line">    width:300px;</span><br><span class="line">    float:left;</span><br><span class="line">&#125;</span><br><span class="line">.right&#123;</span><br><span class="line">    marigin-left:300px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>根据BFC原理，将右DIV设置overflow不为visible，让左右DIV形成一个BFC区域，BFC区域内元素不与float box重叠。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.left&#123;</span><br><span class="line">    width:300px;</span><br><span class="line">    float:left;</span><br><span class="line">&#125;</span><br><span class="line">.right&#123;</span><br><span class="line">    overflow:hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>BFC即：Block Formatting Context
布局规则：</p>
<ul>
<li>内部的盒子会在垂直方向，一个个地放置；</li>
<li>盒子垂直方向的距离由margin决定，属于同一个BFC的两个相邻Box的上下margin会发生重叠；</li>
<li>每个元素的左边，与包含的盒子的左边相接触，即使存在浮动也是如此；</li>
<li>BFC的区域不会与float重叠；</li>
<li>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之也如此；</li>
<li>计算BFC的高度时，浮动元素也参与计算。</li>
</ul>
<p>BFC特性：</p>
<ul>
<li>阻止垂直外边距折叠</li>
<li>不会重叠浮动元素</li>
<li>可以包含浮动</li>
</ul>
<p>产生BFC的元素：</p>
<ul>
<li>根元素；</li>
<li>float的属性不为none；</li>
<li>position为absolute或fixed；</li>
<li>display为inline-block，table-cell，table-caption，flex；</li>
<li>overflow不为visible</li>
</ul>
<h1 id="左中右布局"><a href="#左中右布局" class="headerlink" title="左中右布局"></a>左中右布局</h1><p>左中右布局一般是指的双飞翼布局。</p>
<p>给主内容外套一层wrapper,再给两侧留白。
实现nav在左，article在中间自适应宽度，aside在右。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div class=&quot;wrapper&quot;&gt;</span><br><span class="line">        &lt;article&gt;main&lt;/ariticle&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;nav&gt;left&lt;/nav&gt;</span><br><span class="line">    &lt;aside&gt;right&lt;/aside&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>左浮动后，由于wrapper宽100%，nav和aside会显示在wrapper下方，这时通过负边距来给nav和aside提供位置。将nav左移100%屏幕距离，nav就会出现在屏幕最左，将aside左移aside自身宽度，aside就会出现在屏幕最右。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.wrapper&#123;</span><br><span class="line">    width:100%;</span><br><span class="line">    float:left;</span><br><span class="line">&#125;</span><br><span class="line">.main&#123;</span><br><span class="line">    margin: 0 100px;</span><br><span class="line">    height:300px</span><br><span class="line">&#125;</span><br><span class="line">.nav&#123;</span><br><span class="line">    width:100px;</span><br><span class="line">    hight:300px;</span><br><span class="line">    float:left;</span><br><span class="line">    margin-left:-100%;</span><br><span class="line">&#125;</span><br><span class="line">.aside&#123;</span><br><span class="line">    width:100px;</span><br><span class="line">    hight:300px;</span><br><span class="line">    float:left;</span><br><span class="line">    margin-left:-100px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="居中"><a href="#居中" class="headerlink" title="居中"></a>居中</h1><p>最简单基础的方法，缺点是要有宽高。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">margin: auto;</span><br></pre></td></tr></table></figure>
<hr>
<p>绝对定位于父容器,子元素离父元素距50%,然后将子元素移动本身宽高的一半。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">positon:absolute;</span><br><span class="line">left:50%</span><br><span class="line">margin-left:-0.5*width;</span><br><span class="line">top:50%;</span><br><span class="line">margin-top:-0.5*height;</span><br></pre></td></tr></table></figure>
<hr>
<p>利用relative相对定位实现居中。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">div,ul,li&#123;</span><br><span class="line">    float-left;posi-relative;</span><br><span class="line">&#125;</span><br><span class="line">ul&#123;</span><br><span class="line">    left:50%;</span><br><span class="line">&#125;</span><br><span class="line">li&#123;</span><br><span class="line">    right:50%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="https://i.loli.net/2018/12/22/5c1de0d2ace46.png" alt="center.png"></p>
<hr>
<p>给div包裹一个wrapper，让wrapper内容居中。将块级元素div变为内联块元素,即对照变为和内容相同的内联元素就可以居中了,参考了IFC原理
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.wrapper&#123;text-align:center&#125;</span><br><span class="line">div&#123;display:inline-block&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>利用table-cell或者flex居中
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.father&#123;</span><br><span class="line">    display：table；</span><br><span class="line">&#125;</span><br><span class="line">.child&#123;</span><br><span class="line">    display: table-cell;</span><br><span class="line">    vertical-align: middle;//使子元素垂直居中</span><br><span class="line">    text-align: center;//使子元素水平居中</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">display: flex;//flex布局</span><br><span class="line">justify-content: center;//使子项目水平居中</span><br><span class="line">align-items: center;//使子项目垂直居中</span><br></pre></td></tr></table></figure>
<h1 id="其他常用技巧"><a href="#其他常用技巧" class="headerlink" title="其他常用技巧"></a>其他常用技巧</h1><h2 id="SEO优化"><a href="#SEO优化" class="headerlink" title="SEO优化"></a>SEO优化</h2><p>用h1包裹logo，优化SEO,用text-indent：-9999px隐藏文字。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;</span><br><span class="line">&lt;a href=http://www.seo100.net/&gt;SEO优化&lt;/a&gt;</span><br><span class="line">&lt;/h1&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">h1,a&#123;</span><br><span class="line">    height: *;</span><br><span class="line">    width: *;</span><br><span class="line">    text-indent: -9999px;</span><br><span class="line">    background-image: url(images/logo.gif);</span><br><span class="line">    background-repeat: no-repeat;</span><br><span class="line">    display: block;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="用于让同行内多列div保持等高"><a href="#用于让同行内多列div保持等高" class="headerlink" title="用于让同行内多列div保持等高"></a>用于让同行内多列div保持等高</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.father&#123;</span><br><span class="line">    overflow:hidden;</span><br><span class="line">&#125;</span><br><span class="line">.child&#123;</span><br><span class="line">    margin-bottom:-10000px;</span><br><span class="line">    padding-bottom:10000px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="通用兼容各浏览器消除inline-block的4px间距方法，设置父元素"><a href="#通用兼容各浏览器消除inline-block的4px间距方法，设置父元素" class="headerlink" title="通用兼容各浏览器消除inline-block的4px间距方法，设置父元素"></a>通用兼容各浏览器消除inline-block的4px间距方法，设置父元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.father&#123;</span><br><span class="line">    font-size: 0;</span><br><span class="line">    letter-spacing: -3px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="clearfix"><a href="#clearfix" class="headerlink" title="clearfix"></a>clearfix</h2><p>父元素没高度的时候，子元素如果浮动脱离了文档流导致无法撑起父元素。
清除浮动方法：.clearfix类（参考bootstrap）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.cf:before,</span><br><span class="line">.cf:after&#123;</span><br><span class="line">    content: &quot; &quot;; /* 让css伪元素能够显示 */</span><br><span class="line">    display: block; /* 触发bfc的元素防止边距合并与穿透 */</span><br><span class="line">    clear：both;</span><br><span class="line">&#125;</span><br><span class="line">.cf&#123;    </span><br><span class="line">    *zoom: 1; /* 为旧IE准备的，触发haslayout */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其他clearfix类代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">clearfix::after</span><br><span class="line">display: block</span><br><span class="line">content: &quot;.&quot;</span><br><span class="line">height: 0</span><br><span class="line">line-height: 0</span><br><span class="line">clear: both</span><br><span class="line">visibility: hidden</span><br></pre></td></tr></table></figure>
<h2 id="消除默认边距，消除不同浏览器带来的影响"><a href="#消除默认边距，消除不同浏览器带来的影响" class="headerlink" title="消除默认边距，消除不同浏览器带来的影响"></a>消除默认边距，消除不同浏览器带来的影响</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    padding: 0;</span><br><span class="line">    margin: 0;</span><br><span class="line">    -webkit-box-sizing: border-box;</span><br><span class="line">    -moz-box-sizing: border-box;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/01/HTML常用标签/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/01/HTML常用标签/" itemprop="url">HTML常用标签</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-01T20:22:56+08:00">
                2018-12-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="head部分"><a href="#head部分" class="headerlink" title="head部分"></a>head部分</h1><p><code>&lt;head&gt;</code> 元素包含了所有的头部标签元素,常用的有<code>&lt;meta&gt;,&lt;title&gt;,&lt;link&gt;,&lt;script&gt;</code></p>
<h2 id="title"><a href="#title" class="headerlink" title="title"></a>title</h2><p><code>&lt;title&gt;</code> 标签定义了不同文档的标题。
<code>&lt;title&gt;</code> 在 HTML/XHTML 文档中是必须的。
<code>&lt;title&gt;</code> 元素:</p>
<ul>
<li>定义了浏览器工具栏的标题</li>
<li>当网页添加到收藏夹时，显示在收藏夹中的标题</li>
<li>显示在搜索引擎结果页面的标题</li>
</ul>
<h2 id="link"><a href="#link" class="headerlink" title="link"></a>link</h2><p><code>&lt;link&gt;</code> 标签定义了文档与外部资源之间的关系。
<code>&lt;link&gt;</code>标签通常用于链接到样式表:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;mystyle.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure></p>
<p>除了链接到 <strong>css</strong> 文件之外，常用的还有 <strong>“shortcut icon”为网页标题加图标</strong> 和 <strong>DNS预获取 dns-prefetch 提升页面载入速度</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;shortcut icon&quot; href=&quot;图片地址&quot; /&gt;</span><br><span class="line">&lt;link rel=&quot;icon&quot; href=&quot;图片地址&quot; type=&quot;image/gif&quot; /&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//www.zhix.net&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//api.share.zhix.net&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//bdimg.share.zhix.net&quot;&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="meta"><a href="#meta" class="headerlink" title="meta"></a>meta</h2><ul>
<li>meta标签描述了一些基本的元数据。</li>
<li><code>&lt;meta&gt;</code> 标签提供了元数据.元数据也不显示在页面上，但会被浏览器解析。</li>
<li>META 元素通常用于指定网页的描述，关键词，文件的最后修改时间，作者，和其他元数据。</li>
<li>元数据可以使用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他Web服务。</li>
</ul>
<p><code>&lt;meta&gt;</code>标签可以做的事情非常多也非常复杂，例如SEO优化，移动设备响应式，浏览器内核控制等。
<a href="http://www.runoob.com/w3cnote/meta.html" target="_blank" rel="noopener">常用meta整理</a></p>
<h2 id="script"><a href="#script" class="headerlink" title="script"></a>script</h2><p><code>&lt;script&gt;</code>标签用于加载脚本文件，如： JavaScript。</p>
<h1 id="body部分"><a href="#body部分" class="headerlink" title="body部分"></a>body部分</h1><h2 id="body语义化"><a href="#body语义化" class="headerlink" title="body语义化"></a>body语义化</h2><p>在CSS布局之前，写HTML的时候，首先会想到用到语义化标签对整体进行大致分割。</p>
<ul>
<li>语义元素：一个语义元素能够清楚的描述其意义给浏览器和开发者。</li>
<li>语义化：其实简单说来就是让机器可以读懂内容。 </li>
</ul>
<p><a href="https://www.zhihu.com/question/20455165" target="_blank" rel="noopener">如何理解语义化</a></p>
<p>常用的语义化标签有</p>
<ul>
<li><code>&lt;header&gt;</code>通常用于头部导航</li>
<li><code>&lt;nav&gt;</code>用于定义页面的导航链接部分区域</li>
<li><code>&lt;main&gt;</code>通常用于页面的主体内容</li>
<li><code>&lt;section&gt;</code>定义文档中的节；部件</li>
<li><code>&lt;article&gt;</code>定义独立的内容，文章</li>
<li><code>&lt;aside&gt;</code>定义页面主区域内容之外的内容（比如侧边栏）。aside 标签的内容应与主区域的内容相关.</li>
<li><code>&lt;figure&gt;</code>独立的流内容（图像、图表、照片、代码等等）。</li>
<li><code>&lt;figcaption&gt;</code>标签定义 <code>&lt;figure&gt;</code>元素的标题.</li>
<li><code>&lt;footer&gt;</code>页脚通常包含文档的作者，著作权信息，链接的使用条款，联系信息等</li>
</ul>
<h2 id="body常用标签"><a href="#body常用标签" class="headerlink" title="body常用标签"></a>body常用标签</h2><p>在语义化分割大致区域之后，除了<code>&lt;div&gt;,&lt;span&gt;,&lt;h1~h6&gt;,&lt;p&gt;,&lt;img&gt;</code>等标签之外，常用的标签有<code>&lt;iframe&gt;,&lt;a&gt;,&lt;form&gt;,&lt;input&gt;/&lt;button&gt;,&lt;table&gt;</code>等。</p>
<h3 id="iframe标签"><a href="#iframe标签" class="headerlink" title="iframe标签"></a>iframe标签</h3><ul>
<li>内联框架元素 <code>&lt;iframe&gt;</code> 表示嵌套的浏览上下文，有效地将另一个HTML页面嵌入到当前页面中。</li>
<li>HTML<code>&lt;a&gt;</code>元素  (或锚元素) 可以创建一个到其他网页、文件、同一页面内的位置、电子邮件地址或任何其他URL的超链接。</li>
</ul>
<p>iframe标签原本的用法在现在看来是不合时宜的，但是它的其他功能却是不错的黑魔法。
<a href="https://www.zhihu.com/question/20653055" target="_blank" rel="noopener">iframe黑魔法</a></p>
<h3 id="a标签"><a href="#a标签" class="headerlink" title="a标签"></a>a标签</h3><p>a标签常用属性：</p>
<ul>
<li>download：此属性指示浏览器下载URL而不是导航到它。 （也可以用Content-Type:application / octet-stream来实现下载）</li>
<li>href：包含超链接指向的URL或URL片段。<ul>
<li>href=”#top” 或者 href=”#” 链接返回到页面顶部。</li>
<li>href=””会刷新页面。</li>
<li>href=”//qq.com”这样的无协议链接，浏览器会根据当前协议，补全无协议链接的协议<ul>
<li>如果用 file:// 协议浏览页面，就会访问到 file://qq.com，这是一个不存在的路径</li>
<li>应该尽量不使用 file:// 协议预览网页，以免无协议链接出错</li>
</ul>
</li>
<li>href=”javascript:;”作为伪协议可以做到<strong>点击之后不会发生任何变化的a标签</strong>，也可以把<code>;</code>换成其他js代码执行。</li>
</ul>
</li>
<li>target：该属性指定在何处显示链接的资源。<ul>
<li>_self: 当前页面加载</li>
<li>_blank: 新窗口打开</li>
<li>_parent: 加载响应到当前框架的父框架</li>
<li>_top: 加载响应进入顶层浏览上下文</li>
<li>xxx: 连接到name=xxx的iframe标签</li>
</ul>
</li>
</ul>
<h3 id="form标签"><a href="#form标签" class="headerlink" title="form标签"></a>form标签</h3><ul>
<li>HTML <code>&lt;form&gt;</code> 元素 表示了文档中的一个区域，这个区域包含有交互控制元件，用来向web服务器提交信息。</li>
<li>HTML <code>&lt;table&gt;</code> 元素表示表格数据 — 即通过二维数据表表示的信息。</li>
</ul>
<p>form标签常用属性：</p>
<ul>
<li>action：指定请求路径,这个值可以被 <code>&lt;button&gt;</code> 或者 <code>&lt;input&gt;</code> 元素中的 formaction 属性重载（覆盖）。</li>
<li>method: 指定请求动词,浏览器使用这种 HTTP 方式来提交 form<ul>
<li>post: 指的是 HTTP POST 方法 ; 表单数据会包含在表单体内然后发送给服务器.</li>
<li>get: 指的是 HTTP GET 方法; 表单数据会附加在 action 属性的URI中，并以 ‘?’ 作为分隔符, 然后这样得到的 URI 再发送给服务器</li>
</ul>
</li>
<li>target: 同iframe</li>
</ul>
<p>from标签通常要结合input标签来使用。而且成功提交有如下必要条件：</p>
<ul>
<li>form 标签里面有一个 input type=submit 的元素 || form 标签里面有一个 button 元素，button 的 type 属性为空</li>
<li>如果 input 不加 name，那么在表单提交时，input 的值就不会出现在请求里</li>
</ul>
<p>HTML <code>&lt;input&gt;</code>元素用于为基于Web的表单创建交互式控件，以便接受来自用户的数据。
<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/Input" target="_blank" rel="noopener">input标签常用值和属性</a></p>
<h3 id="table标签"><a href="#table标签" class="headerlink" title="table标签"></a>table标签</h3><p>HTML的 <code>&lt;table&gt;</code> 元素表示表格数据 — 即通过二维数据表表示的信息。</p>
<p>table元素常用子标签：</p>
<ul>
<li>thead,tbody,tfoot DOM顺序不影响渲染顺序，始终是head&gt;body&gt;foot，如果不写浏览器会都默认为body </li>
<li>tr 即table row</li>
<li>td 即table data</li>
<li>colgroup 可以设置每列宽度</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/30/空元素与可替换元素/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="eririgasuki">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog for learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/30/空元素与可替换元素/" itemprop="url">空元素与可替换元素</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-30T23:08:52+08:00">
                2018-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="空元素"><a href="#空元素" class="headerlink" title="空元素"></a>空元素</h1><h2 id="一个空元素（empty-element）可能是-HTML，SVG，或者-MathML-里的一个不可能存在子节点（例如内嵌的元素或者元素内的文本）的element。"><a href="#一个空元素（empty-element）可能是-HTML，SVG，或者-MathML-里的一个不可能存在子节点（例如内嵌的元素或者元素内的文本）的element。" class="headerlink" title="一个空元素（empty element）可能是 HTML，SVG，或者 MathML 里的一个不可能存在子节点（例如内嵌的元素或者元素内的文本）的element。"></a>一个空元素（empty element）可能是 HTML，SVG，或者 MathML 里的一个不可能存在子节点（例如内嵌的元素或者元素内的文本）的element。</h2><p>在 HTML 中有以下这些空元素：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;area&gt;</span><br><span class="line">&lt;base&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;col&gt;</span><br><span class="line">&lt;colgroup&gt; when the span is present</span><br><span class="line">&lt;command&gt;</span><br><span class="line">&lt;embed&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;img&gt;</span><br><span class="line">&lt;input&gt;</span><br><span class="line">&lt;keygen&gt;</span><br><span class="line">&lt;link&gt;</span><br><span class="line">&lt;meta&gt;</span><br><span class="line">&lt;param&gt;</span><br><span class="line">&lt;source&gt;</span><br><span class="line">&lt;track&gt;</span><br><span class="line">&lt;wbr&gt;</span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="可替换元素"><a href="#可替换元素" class="headerlink" title="可替换元素"></a>可替换元素</h1><p>CSS 里，可替换元素（replaced element）的展现不是由CSS来控制的。这些元素是一类 外观渲染独立于CSS的 外部对象。</p>
<p>典型的可替换元素有 <code>&lt;img&gt;</code>、 <code>&lt;object&gt;</code>、 <code>&lt;video&gt;</code> 和 表单元素，如<code>&lt;textarea&gt;</code>、 <code>&lt;input&gt;</code> 。 某些元素只在一些特殊情况下表现为可替换元素，例如 <code>&lt;audio&gt;</code> 和 <code>&lt;canvas&gt;</code> 。 通过 CSS content 属性来插入的对象 被称作 匿名可替换元素（anonymous replaced elements）。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">eririgasuki</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">eririgasuki</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
